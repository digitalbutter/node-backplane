


<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width; initial-scale=1.0">

  <title>
    API: utils
    
    
      &rarr; utils.js (file)
    
  </title>

  <link rel="stylesheet" type="text/css" href="css/960fluid.min.css">
  <link rel="stylesheet" type="text/css" href="css/jquery-ui-1.8.4.custom.css">
  <link rel="stylesheet" type="text/css" href="css/main.css">
  <link rel="stylesheet" type="text/css" href="css/navigation.css">
  <link rel="stylesheet" type="text/css" href="css/content.css">
  <link rel="stylesheet" type="text/css" href="css/codeview.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Sans+Mono">
  
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

</head>

<body>
  <div id="container" class="container_16">
    <a name="top"></a>

    <!-- HEADER -->
    <header>
      <div id="hd" class="grid_10">
        <h1>
          <a href="http://digitalbutter.github.com/node-backplane/" title="node-backplane">node-backplane</a> v0.0.0
        </h1>
      </div> <!--! end of #hd -->
    </header>

    <div id="filters" class="grid_6">
      <form action="#" method="get" id="show-toggles">
        <fieldset>
          <legend>Display Filters</legend>
          <span class="classopts">
            <input type="checkbox" name="show_private" id="show_private">
            <label for="show_private">Show private</label>
          </span>
          <span class="classopts">
            <input type="checkbox" name="show_protected" id="show_protected">
            <label for="show_protected">Show protected</label>
          </span>
          <span class="classopts">
            <input type="checkbox" name="show_deprecated" id="show_deprecated">
            <label for="show_deprecated">Show deprecated</label>
          </span>
        </fieldset>
      </form>

    </div> <!--! end of #hd -->


    <!-- SUB-HEADER w/ BREADCRUMBS -->

    <div id="sub-hd" class="grid_16">
      <div id="breadcrumbs">
        <form id="search-form" method="get" action="#">
          <label for="search">Search:</label>
          <input type="text" id="search" title="Find documentation">
        </form>

        <a href="./index.html" title="node-backplane">node-backplane</a>
          &rarr; module <a href="./module_utils.html" title="utils">utils</a>
          
          
            &rarr; file utils.js
          
      </div>
    </div> <!--! end of #sub-hd -->
    
    <div class="clear"></div>
    

    <!-- SIDEBAR NAVIGATION -->
    <nav>
      <div id="navigation" class="grid_4">
        <div>

            <div id="moduleList" class="module">
              <h4>Modules</h4>
              <ul>
                  <li  class="selected" >
                    <a href="module_utils.html">utils</a>
                  </li>
              </ul>
            </div>

            <div id="classList" class="module">
              <h4>Classes</h4>
              <ul>
                  <li >
                    <a href="memoryMessageStore.html">memoryMessageStore</a>
                  </li>
                  <li >
                    <a href="TBind.html">TBind</a>
                  </li>
              </ul>
            </div>

            <div id="fileList" class="module">
              <h4>Files</h4>
              <ul>
                  <li >
                    <a href="backplane.js.html">backplane.js</a>
                  </li>
                  <li >
                    <a href="backplaneMessages.js.html">backplaneMessages.js</a>
                  </li>
                  <li >
                    <a href="BackplanePoller.js.html">BackplanePoller.js</a>
                  </li>
                  <li >
                    <a href="memoryMessageStore.js.html">memoryMessageStore.js</a>
                  </li>
                  <li  class="selected" >
                    <a href="utils.js.html">utils.js</a>
                  </li>
              </ul>
            </div>





        </div>
      </div>  <!-- end of #navigation -->
    </nav>


    <div id="content" class="grid_12">
      


        <!--! source code view -->
        <div id="srcout">
          <h2>
            file <strong>utils.js</strong>
          </h2>

          <div class="highlight"><pre><span class="kd">var</span> <span class="nx">Trait</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;traits&#39;</span><span class="p">).</span><span class="nx">Trait</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * A utility module used by this library</span>
<span class="cm"> * @module utils</span>
<span class="cm"> */</span>

<span class="cm">/**</span>
<span class="cm"> * A Trait class for holding helper functions for enforcing scope</span>
<span class="cm"> * @class TBind</span>
<span class="cm"> */</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">mergeOptions</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">objectToSet</span><span class="p">,</span><span class="nx">acceptableOptions</span><span class="p">,</span><span class="nx">newOptions</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">newOptions</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">acceptableOptions</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
            <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">newOptions</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">){</span>
                <span class="nx">objectToSet</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">newOptions</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">newOptions</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="k">instanceof</span> <span class="nb">Object</span><span class="p">){</span>
                <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">subKey</span> <span class="k">in</span> <span class="nx">newOptions</span><span class="p">[</span><span class="nx">key</span><span class="p">]){</span>
                    <span class="nx">objectToSet</span><span class="p">[</span><span class="nx">key</span><span class="p">][</span><span class="nx">subKey</span><span class="p">]</span> <span class="o">=</span> <span class="nx">newOptions</span><span class="p">[</span><span class="nx">key</span><span class="p">][</span><span class="nx">subKey</span><span class="p">];</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>


<span class="nx">exports</span><span class="p">.</span><span class="nx">TBind</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="nx">Trait</span><span class="p">({</span>
        <span class="cm">/**</span>
<span class="cm">         * A bind function which binds the scope of the funciton to be called to the local scope of the object.</span>
<span class="cm">         * @function bind</span>
<span class="cm">         * @param {function} fn The function to bind the local scope to</span>
<span class="cm">         * @return {function} The function passed in bound to the local scope</span>
<span class="cm">         */</span>
        <span class="nx">bind</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">fn</span><span class="p">){</span>
            <span class="kd">var</span> <span class="nx">scope</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
            <span class="k">return</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">scope</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
            <span class="p">};</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">isValidURL</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">url</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nb">RegExp</span> <span class="o">=</span> <span class="sr">/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&amp;?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">RegExp</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="p">}</span>


<span class="nx">exports</span><span class="p">.</span><span class="nx">Encoder</span> <span class="o">=</span> <span class="p">{</span>

    <span class="c1">// When encoding do we convert characters into html or numerical entities</span>
    <span class="nx">EncodeType</span> <span class="o">:</span> <span class="s2">&quot;entity&quot;</span><span class="p">,</span>  <span class="c1">// entity OR numerical</span>

    <span class="nx">isEmpty</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
            <span class="k">return</span> <span class="p">((</span><span class="nx">val</span><span class="o">===</span><span class="kc">null</span><span class="p">)</span> <span class="o">||</span> <span class="nx">val</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">0</span> <span class="o">||</span> <span class="sr">/^\s+$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">val</span><span class="p">));</span>
        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="c1">// Convert HTML entities into numerical entities</span>
    <span class="nx">HTML2Numerical</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">arr1</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s1">&#39;&amp;nbsp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iexcl;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;cent;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;pound;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;curren;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;yen;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;brvbar;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sect;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;copy;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ordf;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;laquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;not;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;shy;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;reg;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;macr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;deg;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;plusmn;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sup2;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sup3;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;acute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;micro;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;para;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;middot;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;cedil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sup1;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ordm;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;raquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;frac14;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;frac12;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;frac34;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iquest;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;agrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;acirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;atilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;Auml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aring;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aelig;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ccedil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;egrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ecirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;euml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;igrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;icirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eth;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ntilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ograve;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ocirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;otilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;Ouml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;times;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oslash;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ugrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ucirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;Uuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;yacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;thorn;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;szlig;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;agrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;acirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;atilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;auml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aring;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aelig;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ccedil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;egrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ecirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;euml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;igrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;icirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eth;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ntilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ograve;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ocirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;otilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ouml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;divide;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;Oslash;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ugrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ucirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;yacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;thorn;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;yuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;quot;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;amp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lt;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;gt;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oelig;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oelig;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;scaron;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;scaron;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;yuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;circ;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;tilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ensp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;emsp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;thinsp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;zwnj;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;zwj;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lrm;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rlm;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ndash;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;mdash;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lsquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rsquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sbquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ldquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rdquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;bdquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;dagger;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;dagger;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;permil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lsaquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rsaquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;euro;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;fnof;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;alpha;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;beta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;gamma;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;delta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;epsilon;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;zeta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;theta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iota;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;kappa;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lambda;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;mu;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;nu;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;xi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;omicron;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;pi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rho;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sigma;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;tau;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;upsilon;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;phi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;chi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;psi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;omega;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;alpha;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;beta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;gamma;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;delta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;epsilon;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;zeta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;theta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iota;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;kappa;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lambda;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;mu;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;nu;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;xi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;omicron;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;pi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rho;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sigmaf;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sigma;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;tau;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;upsilon;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;phi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;chi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;psi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;omega;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;thetasym;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;upsih;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;piv;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;bull;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;hellip;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;prime;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;prime;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oline;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;frasl;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;weierp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;image;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;real;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;trade;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;alefsym;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;larr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uarr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rarr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;darr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;harr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;crarr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;larr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uarr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rarr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;darr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;harr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;forall;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;part;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;exist;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;empty;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;nabla;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;isin;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;notin;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ni;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;prod;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sum;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;minus;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lowast;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;radic;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;prop;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;infin;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ang;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;and;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;or;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;cap;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;cup;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;int;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;there4;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sim;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;cong;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;asymp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ne;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;equiv;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;le;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ge;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sub;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sup;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;nsub;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sube;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;supe;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oplus;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;otimes;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;perp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sdot;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lceil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rceil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lfloor;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rfloor;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lang;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rang;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;loz;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;spades;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;clubs;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;hearts;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;diams;&#39;</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">arr2</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s1">&#39;&amp;#160;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#161;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#162;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#163;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#164;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#165;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#166;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#167;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#168;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#169;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#170;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#171;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#172;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#173;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#174;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#175;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#176;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#177;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#178;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#179;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#180;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#181;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#182;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#183;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#184;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#185;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#186;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#187;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#188;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#189;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#190;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#191;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#192;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#193;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#194;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#195;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#196;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#197;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#198;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#199;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#200;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#201;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#202;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#203;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#204;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#205;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#206;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#207;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#208;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#209;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#210;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#211;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#212;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#213;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#214;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#215;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#216;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#217;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#218;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#219;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#220;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#221;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#222;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#223;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#224;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#225;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#226;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#227;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#228;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#229;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#230;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#231;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#232;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#233;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#234;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#235;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#236;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#237;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#238;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#239;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#240;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#241;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#242;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#243;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#244;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#245;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#246;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#247;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#248;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#249;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#250;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#251;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#252;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#253;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#254;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#255;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#34;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#38;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#60;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#62;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#338;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#339;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#352;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#353;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#376;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#710;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#732;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8194;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8195;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8201;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8204;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8205;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8206;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8207;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8211;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8212;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8216;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8217;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8218;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8220;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8221;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8222;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8224;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8225;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8240;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8249;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8250;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8364;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#402;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#913;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#914;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#915;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#916;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#917;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#918;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#919;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#920;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#921;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#922;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#923;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#924;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#925;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#926;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#927;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#928;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#929;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#931;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#932;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#933;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#934;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#935;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#936;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#937;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#945;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#946;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#947;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#948;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#949;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#950;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#951;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#952;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#953;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#954;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#955;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#956;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#957;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#958;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#959;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#960;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#961;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#962;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#963;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#964;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#965;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#966;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#967;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#968;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#969;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#977;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#978;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#982;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8226;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8230;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8242;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8243;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8254;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8260;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8472;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8465;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8476;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8482;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8501;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8592;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8593;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8594;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8595;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8596;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8629;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8656;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8657;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8658;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8659;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8660;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8704;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8706;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8707;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8709;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8711;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8712;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8713;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8715;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8719;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8721;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8722;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8727;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8730;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8733;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8734;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8736;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8743;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8744;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8745;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8746;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8747;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8756;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8764;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8773;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8776;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8800;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8801;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8804;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8805;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8834;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8835;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8836;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8838;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8839;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8853;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8855;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8869;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8901;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8968;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8969;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8970;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8971;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9001;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9002;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9674;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9824;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9827;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9829;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9830;&#39;</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">swapArrayVals</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">arr1</span><span class="p">,</span><span class="nx">arr2</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="c1">// Convert Numerical entities into HTML entities</span>
    <span class="nx">NumericalToHTML</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">arr1</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s1">&#39;&amp;#160;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#161;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#162;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#163;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#164;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#165;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#166;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#167;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#168;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#169;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#170;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#171;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#172;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#173;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#174;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#175;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#176;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#177;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#178;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#179;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#180;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#181;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#182;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#183;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#184;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#185;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#186;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#187;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#188;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#189;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#190;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#191;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#192;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#193;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#194;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#195;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#196;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#197;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#198;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#199;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#200;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#201;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#202;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#203;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#204;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#205;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#206;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#207;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#208;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#209;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#210;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#211;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#212;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#213;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#214;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#215;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#216;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#217;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#218;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#219;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#220;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#221;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#222;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#223;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#224;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#225;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#226;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#227;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#228;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#229;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#230;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#231;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#232;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#233;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#234;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#235;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#236;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#237;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#238;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#239;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#240;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#241;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#242;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#243;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#244;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#245;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#246;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#247;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#248;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#249;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#250;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#251;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#252;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#253;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#254;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#255;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#34;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#38;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#60;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#62;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#338;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#339;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#352;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#353;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#376;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#710;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#732;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8194;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8195;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8201;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8204;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8205;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8206;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8207;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8211;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8212;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8216;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8217;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8218;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8220;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8221;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8222;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8224;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8225;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8240;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8249;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8250;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8364;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#402;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#913;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#914;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#915;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#916;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#917;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#918;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#919;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#920;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#921;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#922;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#923;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#924;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#925;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#926;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#927;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#928;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#929;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#931;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#932;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#933;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#934;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#935;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#936;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#937;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#945;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#946;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#947;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#948;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#949;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#950;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#951;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#952;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#953;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#954;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#955;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#956;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#957;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#958;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#959;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#960;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#961;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#962;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#963;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#964;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#965;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#966;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#967;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#968;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#969;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#977;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#978;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#982;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8226;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8230;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8242;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8243;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8254;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8260;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8472;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8465;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8476;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8482;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8501;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8592;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8593;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8594;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8595;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8596;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8629;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8656;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8657;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8658;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8659;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8660;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8704;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8706;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8707;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8709;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8711;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8712;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8713;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8715;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8719;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8721;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8722;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8727;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8730;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8733;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8734;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8736;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8743;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8744;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8745;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8746;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8747;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8756;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8764;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8773;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8776;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8800;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8801;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8804;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8805;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8834;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8835;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8836;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8838;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8839;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8853;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8855;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8869;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8901;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8968;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8969;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8970;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#8971;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9001;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9002;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9674;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9824;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9827;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9829;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;#9830;&#39;</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">arr2</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s1">&#39;&amp;nbsp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iexcl;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;cent;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;pound;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;curren;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;yen;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;brvbar;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sect;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;copy;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ordf;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;laquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;not;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;shy;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;reg;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;macr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;deg;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;plusmn;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sup2;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sup3;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;acute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;micro;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;para;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;middot;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;cedil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sup1;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ordm;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;raquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;frac14;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;frac12;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;frac34;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iquest;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;agrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;acirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;atilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;Auml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aring;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aelig;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ccedil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;egrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ecirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;euml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;igrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;icirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eth;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ntilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ograve;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ocirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;otilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;Ouml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;times;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oslash;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ugrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ucirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;Uuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;yacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;thorn;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;szlig;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;agrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;acirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;atilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;auml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aring;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;aelig;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ccedil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;egrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ecirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;euml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;igrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;icirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eth;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ntilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ograve;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ocirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;otilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ouml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;divide;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;Oslash;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ugrave;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ucirc;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;yacute;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;thorn;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;yuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;quot;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;amp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lt;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;gt;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oelig;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oelig;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;scaron;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;scaron;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;yuml;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;circ;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;tilde;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ensp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;emsp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;thinsp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;zwnj;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;zwj;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lrm;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rlm;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ndash;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;mdash;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lsquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rsquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sbquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ldquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rdquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;bdquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;dagger;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;dagger;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;permil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lsaquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rsaquo;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;euro;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;fnof;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;alpha;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;beta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;gamma;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;delta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;epsilon;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;zeta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;theta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iota;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;kappa;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lambda;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;mu;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;nu;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;xi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;omicron;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;pi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rho;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sigma;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;tau;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;upsilon;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;phi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;chi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;psi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;omega;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;alpha;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;beta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;gamma;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;delta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;epsilon;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;zeta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;eta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;theta;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;iota;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;kappa;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lambda;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;mu;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;nu;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;xi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;omicron;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;pi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rho;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sigmaf;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sigma;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;tau;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;upsilon;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;phi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;chi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;psi;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;omega;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;thetasym;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;upsih;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;piv;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;bull;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;hellip;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;prime;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;prime;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oline;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;frasl;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;weierp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;image;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;real;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;trade;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;alefsym;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;larr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uarr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rarr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;darr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;harr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;crarr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;larr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;uarr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rarr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;darr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;harr;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;forall;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;part;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;exist;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;empty;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;nabla;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;isin;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;notin;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ni;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;prod;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sum;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;minus;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lowast;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;radic;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;prop;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;infin;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ang;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;and;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;or;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;cap;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;cup;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;int;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;there4;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sim;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;cong;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;asymp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ne;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;equiv;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;le;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;ge;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sub;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sup;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;nsub;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sube;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;supe;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;oplus;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;otimes;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;perp;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;sdot;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lceil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rceil;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lfloor;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rfloor;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;lang;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;rang;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;loz;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;spades;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;clubs;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;hearts;&#39;</span><span class="p">,</span><span class="s1">&#39;&amp;diams;&#39;</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">swapArrayVals</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">arr1</span><span class="p">,</span><span class="nx">arr2</span><span class="p">);</span>
    <span class="p">},</span>


    <span class="c1">// Numerically encodes all unicode characters</span>
    <span class="nx">numEncode</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span>

        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">c</span> <span class="o">&lt;</span> <span class="s2">&quot; &quot;</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">&gt;</span> <span class="s2">&quot;~&quot;</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nx">c</span> <span class="o">=</span> <span class="s2">&quot;&amp;#&quot;</span> <span class="o">+</span> <span class="nx">c</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;;&quot;</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">e</span> <span class="o">+=</span> <span class="nx">c</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">e</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="c1">// HTML Decode numerical and HTML entities back to original values</span>
    <span class="nx">htmlDecode</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span>

        <span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">s</span><span class="p">;</span>

        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">(</span><span class="nx">d</span><span class="p">))</span> <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

        <span class="c1">// convert HTML entites back to numerical entites first</span>
        <span class="nx">d</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">HTML2Numerical</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span>

        <span class="c1">// look for numerical entities &amp;#34;</span>
        <span class="nx">arr</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/&amp;#[0-9]{1,5};/g</span><span class="p">);</span>

        <span class="c1">// if no matches found in string then skip</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">arr</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span>
            <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">x</span><span class="o">&lt;</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">x</span><span class="o">++</span><span class="p">){</span>
                <span class="nx">m</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">x</span><span class="p">];</span>
                <span class="nx">c</span> <span class="o">=</span> <span class="nx">m</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="c1">//get numeric part which is refernce to unicode character</span>
                <span class="c1">// if its a valid number we can decode</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">c</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">32768</span> <span class="o">&amp;&amp;</span> <span class="nx">c</span> <span class="o">&lt;=</span> <span class="mi">65535</span><span class="p">){</span>
                    <span class="c1">// decode every single match within string</span>
                    <span class="nx">d</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">c</span><span class="p">));</span>
                <span class="p">}</span><span class="k">else</span><span class="p">{</span>
                    <span class="nx">d</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span> <span class="c1">//invalid so replace with nada</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nx">d</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="c1">// encode an input string into either numerical or HTML entities</span>
    <span class="nx">htmlEncode</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">dbl</span><span class="p">){</span>

        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

        <span class="c1">// do we allow double encoding? E.g will &amp;amp; be turned into &amp;amp;amp;</span>
        <span class="nx">dbl</span> <span class="o">=</span> <span class="nx">dbl</span> <span class="o">|</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">//default to prevent double encoding</span>

        <span class="c1">// if allowing double encoding we do ampersands first</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">dbl</span><span class="p">){</span>
            <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">EncodeType</span><span class="o">==</span><span class="s2">&quot;numerical&quot;</span><span class="p">){</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&amp;/g</span><span class="p">,</span> <span class="s2">&quot;&amp;#38;&quot;</span><span class="p">);</span>
            <span class="p">}</span><span class="k">else</span><span class="p">{</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&amp;/g</span><span class="p">,</span> <span class="s2">&quot;&amp;amp;&quot;</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// convert the xss chars to numerical entities &#39; &quot; &lt; &gt;</span>
        <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">XSSEncode</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="kc">false</span><span class="p">);</span>

        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">EncodeType</span><span class="o">==</span><span class="s2">&quot;numerical&quot;</span> <span class="o">||</span> <span class="o">!</span><span class="nx">dbl</span><span class="p">){</span>
            <span class="c1">// Now call function that will convert any HTML entities to numerical codes</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">HTML2Numerical</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// Now encode all chars above 127 e.g unicode</span>
        <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">numEncode</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>

        <span class="c1">// now we know anything that needs to be encoded has been converted to numerical entities we</span>
        <span class="c1">// can encode any ampersands &amp; that are not part of encoded entities</span>
        <span class="c1">// to handle the fact that I need to do a negative check and handle multiple ampersands &amp;&amp;&amp;</span>
        <span class="c1">// I am going to use a placeholder</span>

        <span class="c1">// if we don&#39;t want double encoded entities we ignore the &amp; in existing entities</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">dbl</span><span class="p">){</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&amp;#/g</span><span class="p">,</span><span class="s2">&quot;##AMPHASH##&quot;</span><span class="p">);</span>

            <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">EncodeType</span><span class="o">==</span><span class="s2">&quot;numerical&quot;</span><span class="p">){</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&amp;/g</span><span class="p">,</span> <span class="s2">&quot;&amp;#38;&quot;</span><span class="p">);</span>
            <span class="p">}</span><span class="k">else</span><span class="p">{</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&amp;/g</span><span class="p">,</span> <span class="s2">&quot;&amp;amp;&quot;</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/##AMPHASH##/g</span><span class="p">,</span><span class="s2">&quot;&amp;#&quot;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// replace any malformed entities</span>
        <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&amp;#\d*([^\d;]|$)/g</span><span class="p">,</span> <span class="s2">&quot;$1&quot;</span><span class="p">);</span>

        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">dbl</span><span class="p">){</span>
            <span class="c1">// safety check to correct any double encoded &amp;amp;</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">correctEncoding</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// now do we need to convert our numerical encoded string into entities</span>
        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">EncodeType</span><span class="o">==</span><span class="s2">&quot;entity&quot;</span><span class="p">){</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">NumericalToHTML</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="c1">// Encodes the basic 4 characters used to malform HTML in XSS hacks</span>
    <span class="nx">XSSEncode</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">en</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">(</span><span class="nx">s</span><span class="p">)){</span>
            <span class="nx">en</span> <span class="o">=</span> <span class="nx">en</span> <span class="o">||</span> <span class="kc">true</span><span class="p">;</span>
            <span class="c1">// do we convert to numerical or html entity?</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">en</span><span class="p">){</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\&#39;/g</span><span class="p">,</span><span class="s2">&quot;&amp;#39;&quot;</span><span class="p">);</span> <span class="c1">//no HTML equivalent as &amp;apos is not cross browser supported</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\&quot;/g</span><span class="p">,</span><span class="s2">&quot;&amp;quot;&quot;</span><span class="p">);</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;/g</span><span class="p">,</span><span class="s2">&quot;&amp;lt;&quot;</span><span class="p">);</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&gt;/g</span><span class="p">,</span><span class="s2">&quot;&amp;gt;&quot;</span><span class="p">);</span>
            <span class="p">}</span><span class="k">else</span><span class="p">{</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\&#39;/g</span><span class="p">,</span><span class="s2">&quot;&amp;#39;&quot;</span><span class="p">);</span> <span class="c1">//no HTML equivalent as &amp;apos is not cross browser supported</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\&quot;/g</span><span class="p">,</span><span class="s2">&quot;&amp;#34;&quot;</span><span class="p">);</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;/g</span><span class="p">,</span><span class="s2">&quot;&amp;#60;&quot;</span><span class="p">);</span>
                <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&gt;/g</span><span class="p">,</span><span class="s2">&quot;&amp;#62;&quot;</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">// returns true if a string contains html or numerical encoded entities</span>
    <span class="nx">hasEncoded</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="sr">/&amp;#[0-9]{1,5};/g</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">)){</span>
            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="sr">/&amp;[A-Z]{2,6};/gi</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">)){</span>
            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">// will remove any unicode characters</span>
    <span class="nx">stripUnicode</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[^\x20-\x7E]/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">);</span>

    <span class="p">},</span>

    <span class="c1">// corrects any double encoded &amp;amp; entities e.g &amp;amp;amp;</span>
    <span class="nx">correctEncoding</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(&amp;amp;)(amp;)+/</span><span class="p">,</span><span class="s2">&quot;$1&quot;</span><span class="p">);</span>
    <span class="p">},</span>


    <span class="c1">// Function to loop through an array swaping each item with the value from another array e.g swap HTML entities with Numericals</span>
    <span class="nx">swapArrayVals</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">arr1</span><span class="p">,</span><span class="nx">arr2</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">re</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">arr1</span> <span class="o">&amp;&amp;</span> <span class="nx">arr2</span><span class="p">){</span>
            <span class="c1">//ShowDebug(&quot;in swapArrayVals arr1.length = &quot; + arr1.length + &quot; arr2.length = &quot; + arr2.length)</span>
            <span class="c1">// array lengths must match</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">arr1</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="nx">arr2</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
                <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">arr1</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">x</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">x</span><span class="o">++</span><span class="p">){</span>
                    <span class="nx">re</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">arr1</span><span class="p">[</span><span class="nx">x</span><span class="p">],</span> <span class="s1">&#39;g&#39;</span><span class="p">);</span>
                    <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">re</span><span class="p">,</span><span class="nx">arr2</span><span class="p">[</span><span class="nx">x</span><span class="p">]);</span> <span class="c1">//swap arr1 item with matching item from arr2</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="nx">inArray</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">arr</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span> <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">x</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">){</span>
            <span class="k">if</span> <span class="p">(</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="nx">item</span> <span class="p">){</span>
                <span class="k">return</span> <span class="nx">i</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>

        </div>

    </div>


    <div class="clear"></div>

    
    <footer>
      <div id="footer" class="grid_16">
        <p>
          Copyright &copy; 2011 Digital Butter Limited. All rights reserved.
          &middot;
          Docs generated using <a href="http://developer.yahoo.com/yui/yuidoc/">YUIDoc</a> sporting the <a href="http://github.com/carlo/yuidoc-theme-dana">Dana theme</a>.
        </p>
      </div> <!--! end of #footer -->
    </footer>


    <div class="clear"></div>

  </div>

  <!-- Javascript at the bottom for fast page loading -->
  <script src="js/jquery-1.4.2.min.js" type="text/javascript"></script>
  <script src="js/jquery-ui-1.8.4.custom.min.js" type="text/javascript"></script>
  <script src="js/jquery.cookie.min.js" type="text/javascript"></script>
  <script src="js/main.js" type="text/javascript"></script>
  
</body>
</html>
